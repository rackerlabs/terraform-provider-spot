---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "Terraform Provider for Rackspace {{ .ProviderShortName | title }}"
subcategory: ""
description: |-
  The rackspace spot terraform provider offers a streamlined solution for creating and managing cloudspaces on Rackspace's robust infrastructure.
---

# Rackspace {{ .ProviderShortName | title }} Provider

The Rackspace {{ .ProviderShortName | title }} Provider is a solution for creating and managing multiple cloudspaces, on Rackspace's robust infrastructure.

Rackspace Spot delivers fully managed and pre-configured Kubernetes clusters, known as cloudspaces, providing a turnkey solution for deploying and running containerized applications.

## Authenticating with Rackspace Spot

To use this provider, you will require an authentication token. You can obtain the token from the Rackspace Spot dashboard at https://spot.rackspace.com by navigating to the "API Access" section located on the left sidebar.

### Setting the Token in the Provider Configuration

You can provide the authentication token in the provider configuration using the `token` attribute. It is recommended to use Terraform variables or other secure methods to store and reference the token value, rather than hard-coding it directly in your Terraform configuration files. This helps prevent accidental exposure of the token in version control systems.

Example using a Terraform variable:

{{ tffile "examples/provider/provider-with-token.tf" }}

### Setting the Token using Environment Variables

Alternatively, you can set the authentication token using environment variables:

- `RXTSPOT_TOKEN`: Set this variable to the actual token value.
- `RXTSPOT_TOKEN_FILE`: Set this variable to the absolute path of the file containing the token value.

Example:

{{ codefile "shell" "examples/provider/token-env-vars.sh" }}

Remember to keep your authentication token secure and avoid committing it to version control systems. Use appropriate security measures, such as encrypting sensitive files or using secret management tools, to protect your token.

## Example Usage

Declare the provider in your configuration and terraform init will automatically fetch and install the provider for you from the Terraform Registry:

{{ tffile .ExampleFile }}

{{ .SchemaMarkdown | trimspace }}

## Create Your First Cloudspace

Get started with Rackspace Spot by creating your first Spot Cloudspace. Follow the steps below to create a cloudspace and deploy your workloads.

1. Log in to the [Rackspace Spot Console](https://spot.rackspace.com) and copy the Access Token:
   - Navigate to the **Terraform** menu under **API Access** on the left pane.
   - Copy the **Access Token** provided on that page.
   - **Important:** Treat the access token as sensitive information. Avoid sharing it publicly.

2. Create your terraform configuration file

{{ tffile "examples/cloudspace/main.tf" }}

4. Use generated kubeconfig to access your cloudspace.

## Know your Cloudspace

A Cloudspace represents a logical unit of your cloud infrastructure. It includes:

- An infrastructure pool comprising servers, storage and network. Rackspace Spot uses spare virtual server capacity from Rackspace's global data-centers as the backing infrastructure
- A cloud operating system such as Kubernetes

Learn more about Cloudspaces [here](https://spot.rackspace.com/docs/create-rackspace-spot-cloudspace).

### Spotnodepool

A spotnodepool is a pool of nodes in a Spot cloudspace. In Spot, you organize your servers into groups called spotnodepools, which you add to your cloudspace. A spotnodepool is a collection of servers with identical specifications. You can define multiple spotnodepools within a single cloudspace, and all these server groups will be part of the same Kubernetes cluster associated with that cloudspace. The servers in a spotnodepool become worker nodes, in terms of Kubernetes cluster terminology.

{{ tffile "examples/spotnodepool/nonautoscaling.tf" }}

### Spotnodepool with Autoscaling

A spotnodepool can be configured to dynamically adjust the number of servers based on demand. This is known as autoscaling. When demand is high, the spotnodepool can automatically increase the number of servers, and when demand decreases, it can scale down to optimize costs. You can specify the minimum and maximum number of servers in the spotnodepool, and the spotnodepool will automatically scale up or down based on the load.

{{ tffile "examples/spotnodepool/autoscaling.tf" }}
