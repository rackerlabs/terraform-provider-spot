{
	"provider": {
		"name": "spot",
		"schema": {
			"attributes": [
				{
					"name": "token",
					"string": {
						"optional_required": "optional",
						"sensitive": true,
						"description": "API token used to authenticate against Spot backend"
					}
				}
			]
		}
	},
	"resources": [
		{
			"name": "cloudspace",
			"schema": {
				"attributes": [
					{
						"name": "id",
						"string": {
							"computed_optional_required": "computed",
							"description": "The id of the cloudspace",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.UseStateForUnknown()"
									}
								}
							]
						}
					},
					{
						"name": "last_updated",
						"string": {
							"computed_optional_required": "computed",
							"description": "The last time the cloudspace was updated.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.UseStateForUnknown()"
									}
								}
							]
						}
					},
					{
						"name": "resource_version",
						"string": {
							"computed_optional_required": "computed",
							"description": "The version of the resource known to local state. This is used to determine if the resource is modified outside of terraform.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.UseStateForUnknown()"
									}
								}
							]
						}
					},
					{
						"name": "cloudspace_name",
						"string": {
							"computed_optional_required": "required",
							"description": "The name of the cloudspace.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.RequiresReplace()"
									}
								}
							],
							"validators": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
											}
										],
										"schema_definition": "stringvalidator.LengthBetween(1, 63)"
									}
								},
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
											},
											{
												"path": "regexp"
											}
										],
										"schema_definition": "stringvalidator.RegexMatches(regexp.MustCompile(`^[a-zA-Z0-9]([-a-zA-Z0-9]*[a-zA-Z0-9])?$`), \"Must be a valid kubernetes name\")"
									}
								}
							]
						}
					},
					{
						"name": "hacontrol_plane",
						"bool": {
							"default": {
								"static": false
							},
							"computed_optional_required": "computed_optional",
							"description": "High Availability Kubernetes (replicated control plane for redundancy). This is a critical feature for production workloads.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/boolplanmodifier"
											}
										],
										"schema_definition": "boolplanmodifier.UseStateForUnknown()"
									}
								}
							]
						}
					},
					{
						"name": "region",
						"string": {
							"computed_optional_required": "required",
							"description": "The region where the cloudspace will be created.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.RequiresReplace()"
									}
								}
							]
						}
					},
					{
						"name": "preemption_webhook",
						"string": {
							"computed_optional_required": "optional",
							"description": "Webhook URL for preemption notifications.",
							"validators": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
											}
										],
										"schema_definition": "stringvalidator.LengthBetween(1, 255)"
									}
								},
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
											},
											{
												"path": "regexp"
											}
										],
										"schema_definition": "stringvalidator.RegexMatches(regexp.MustCompile(`^http(s)?://.+`), \"Must be a valid URL\")"
									}
								}
							]
						}
					},
					{
						"name": "first_ready_timestamp",
						"string": {
							"computed_optional_required": "computed",
							"description": "The time when the cloudspace was first ready.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.UseStateForUnknown()"
									}
								}
							]
						}
					},
					{
						"name": "spotnodepool_ids",
						"list": {
							"computed_optional_required": "computed",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/listplanmodifier"
											}
										],
										"schema_definition": "listplanmodifier.UseStateForUnknown()"
									}
								}
							],
							"description": "IDs of the spotnodepools associated with the cloudspace.",
							"element_type": {
								"string": {}
							}
						}
					},
					{
						"name": "bids",
						"set_nested": {
							"computed_optional_required": "computed",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/setplanmodifier"
											}
										],
										"schema_definition": "setplanmodifier.UseStateForUnknown()"
									}
								}
							],
							"nested_object": {
								"attributes": [
									{
										"name": "bid_name",
										"string": {
											"computed_optional_required": "computed",
											"plan_modifiers": [
												{
													"custom": {
														"imports": [
															{
																"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
															}
														],
														"schema_definition": "stringplanmodifier.UseStateForUnknown()"
													}
												}
											]
										}
									},
									{
										"name": "won_count",
										"int64": {
											"computed_optional_required": "computed",
											"plan_modifiers": [
												{
													"custom": {
														"imports": [
															{
																"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/int64planmodifier"
															}
														],
														"schema_definition": "int64planmodifier.UseStateForUnknown()"
													}
												}
											]
										}
									}
								]
							}
						}
					},
					{
						"name": "pending_allocations",
						"set_nested": {
							"computed_optional_required": "computed",
							"nested_object": {
								"attributes": [
									{
										"name": "bid_name",
										"string": {
											"computed_optional_required": "computed"
										}
									},
									{
										"name": "server_class",
										"string": {
											"computed_optional_required": "computed"
										}
									},
									{
										"name": "count",
										"int64": {
											"computed_optional_required": "computed"
										}
									}
								]
							}
						}
					}
				]
			}
		},
		{
			"name": "spotnodepool",
			"schema": {
				"attributes": [
					{
						"name": "id",
						"string": {
							"computed_optional_required": "computed",
							"description": "The id of the spotnodepool.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.UseStateForUnknown()"
									}
								}
							]
						}
					},
					{
						"name": "last_updated",
						"string": {
							"computed_optional_required": "computed",
							"description": "The last time the spotnodepool was updated.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.UseStateForUnknown()"
									}
								}
							]
						}
					},
					{
						"name": "resource_version",
						"string": {
							"computed_optional_required": "computed",
							"description": "The version of the resource known to local state. This is used to determine if the resource is modified outside of terraform.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.UseStateForUnknown()"
									}
								}
							]
						}
					},
					{
						"name": "cloudspace_name",
						"string": {
							"computed_optional_required": "required",
							"description": "The name of the cloudspace.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.RequiresReplace()"
									}
								}
							],
							"validators": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
											}
										],
										"schema_definition": "stringvalidator.LengthBetween(1, 63)"
									}
								},
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
											},
											{
												"path": "regexp"
											}
										],
										"schema_definition": "stringvalidator.RegexMatches(regexp.MustCompile(`^[a-zA-Z0-9]([-a-zA-Z0-9]*[a-zA-Z0-9])?$`), \"Must be valid kubernetes name\")"
									}
								}
							]
						}
					},
					{
						"name": "server_class",
						"string": {
							"computed_optional_required": "required",
							"description": "The class of servers to use for the node pool.",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.RequiresReplace()"
									}
								}
							]
						}
					},
					{
						"name": "desired_server_count",
						"int64": {
							"computed_optional_required": "computed_optional",
							"description": "The desired number of servers in the node pool. Should be removed if autoscaling is enabled.",
							"validators": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
											}
										],
										"schema_definition": "int64validator.AtLeast(1)"
									}
								},
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
											},
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/path"
											}
										],
										"schema_definition": "int64validator.ConflictsWith(path.MatchRelative().AtParent().AtName(\"autoscaling\"))"
									}
								}
							]
						}
					},
					{
						"name": "bid_price",
						"float64": {
							"computed_optional_required": "required",
							"description": "The bid price for the server in USD, rounded to three decimal places.",
							"validators": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework-validators/float64validator"
											}
										],
										"schema_definition": "float64validator.AtLeast(0.001)"
									}
								},
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/rackerlabs/terraform-provider-spot/internal/spotvalidator"
											}
										],
										"schema_definition": "spotvalidator.DecimalDigitsAtMost(3)"
									}
								}
							]
						}
					},
					{
						"name": "autoscaling",
						"single_nested": {
							"computed_optional_required": "optional",
							"attributes": [
								{
									"name": "max_nodes",
									"int64": {
										"computed_optional_required": "optional",
										"description": "The maximum number of nodes in the node pool.",
										"validators": [
											{
												"custom": {
													"imports": [
														{
															"path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
														}
													],
													"schema_definition": "int64validator.AtLeast(1)"
												}
											},
											{
												"custom": {
													"imports": [
														{
															"path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
														}
													],
													"schema_definition": "int64validator.AtLeastSumOf(path.MatchRelative().AtParent().AtName(\"min_nodes\"))"
												}
											}
										]
									}
								},
								{
									"name": "min_nodes",
									"int64": {
										"computed_optional_required": "optional",
										"description": "The minimum number of nodes in the node pool.",
										"validators": [
											{
												"custom": {
													"imports": [
														{
															"path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
														}
													],
													"schema_definition": "int64validator.AtLeast(1)"
												}
											}
										]
									}
								}
							],
							"description": "Scales the nodes in a cluster based on usage. This block should be omitted to disable autoscaling.",
							"validators" :[
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework-validators/objectvalidator"
											}
										],
										"schema_definition": "objectvalidator.AlsoRequires(path.MatchRelative().AtName(\"max_nodes\"), path.MatchRelative().AtName(\"min_nodes\"))"
									}
								}
							]
						}
					},
					{
						"name": "bid_status",
						"string": {
							"computed_optional_required": "computed",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
											}
										],
										"schema_definition": "stringplanmodifier.UseStateForUnknown()"
									}
								}
							],
							"description": "Status of the bid associated with this spotnodepool."
						}
					},
					{
						"name": "won_count",
						"int64": {
							"computed_optional_required": "computed",
							"plan_modifiers": [
								{
									"custom": {
										"imports": [
											{
												"path": "github.com/hashicorp/terraform-plugin-framework/resource/schema/int64planmodifier"
											}
										],
										"schema_definition": "int64planmodifier.UseStateForUnknown()"
									}
								}
							],
							"description": "Number of won bids."
						}
					}
				]
			}
		}
	],
	"datasources": [
		{
			"name": "cloudspace",
			"schema": {
				"attributes": [
					{
						"name": "id",
						"string": {
							"computed_optional_required": "required",
							"description": "ID of the cloudspace, same as cloudspace name."
						}
					},
					{
						"name": "name",
						"string": {
							"computed_optional_required": "computed",
							"description": "Name of the cloudspace",
							"deprecation_message": "Use the cloudspace_name attribute instead"
						}
					},
					{
						"name": "cloudspace_name",
						"string": {
							"computed_optional_required": "computed",
							"description": "Name of the cloudspace"
						}
					},
					{
						"name": "hacontrol_plane",
						"bool": {
							"computed_optional_required": "computed",
							"description": "High Availability Kubernetes (replicated control plane for redundancy). This is a critical feature for production workloads."
						}
					},
					{
						"name": "region",
						"string": {
							"computed_optional_required": "computed",
							"description": "The region where the cloudspace resides."
						}
					},
					{
						"name": "preemption_webhook",
						"string": {
							"computed_optional_required": "optional",
							"description": "Webhook URL for preemption notifications."
						}
					},
					{
						"name": "first_ready_timestamp",
						"string": {
							"computed_optional_required": "computed",
							"description": "The time when the cloudspace was first ready."
						}
					},
					{
						"name": "spotnodepool_ids",
						"list": {
							"computed_optional_required": "computed",
							"description": "IDs of the spotnodepools associated with the cloudspace.",
							"element_type": {
								"string": {}
							}
						}
					},
					{
						"name": "bids",
						"set_nested": {
							"computed_optional_required": "computed",
							"nested_object": {
								"attributes": [
									{
										"name": "bid_name",
										"string": {
											"computed_optional_required": "computed"
										}
									},
									{
										"name": "won_count",
										"int64": {
											"computed_optional_required": "computed"
										}
									}
								]
							}
						}
					},
					{
						"name": "pending_allocations",
						"set_nested": {
							"computed_optional_required": "computed",
							"nested_object": {
								"attributes": [
									{
										"name": "bid_name",
										"string": {
											"computed_optional_required": "computed"
										}
									},
									{
										"name": "server_class",
										"string": {
											"computed_optional_required": "computed"
										}
									},
									{
										"name": "count",
										"int64": {
											"computed_optional_required": "computed"
										}
									}
								]
							}
						}
					},
					{
						"name": "kubeconfig",
						"string": {
							"computed_optional_required": "computed",
							"description": "Kubeconfig blob",
							"deprecation_message": "Use the kubeconfig data source instead"
						}
					},
					{
						"name": "api_server_endpoint",
						"string": {
							"computed_optional_required": "computed",
							"description": "Kubernetes api server URL"
						}
					},
					{
						"name": "user",
						"string": {
							"computed_optional_required": "computed",
							"description": "Name of the user to use for authentication to kubernetes api server"
						}
					},
					{
						"name": "token",
						"string": {
							"computed_optional_required": "computed",
							"description": "Token to use for authentication to kubernetes api server"
						}
					},
					{
						"name": "health",
						"string": {
							"computed_optional_required": "computed",
							"description": "Health indicates if CloudSpace has a working APIServer and available nodes"
						}
					},
					{
						"name": "phase",
						"string": {
							"computed_optional_required": "computed",
							"description": "Phase of the cloudspace"
						}
					},
					{
						"name": "reason",
						"string": {
							"computed_optional_required": "computed",
							"description": "Reason contains the reason why the CloudSpace is in a certain phase."
						}
					}
				]
			}
		},
		{
			"name": "spotnodepool",
			"schema": {
				"attributes": [
					{
						"name": "id",
						"string": {
							"computed_optional_required": "required",
							"description": "ID of the spotnodepool"
						}
					},
					{
						"name": "cloudspace_name",
						"string": {
							"computed_optional_required": "computed",
							"description": "The name of the cloudspace"
						}
					},
					{
						"name": "server_class",
						"string": {
							"computed_optional_required": "computed",
							"description": "The class of servers to use for the node pool."
						}
					},
					{
						"name": "desired_server_count",
						"int64": {
							"computed_optional_required": "computed",
							"description": "The desired number of servers in the node pool."
						}
					},
					{
						"name": "bid_price",
						"float64": {
							"computed_optional_required": "computed",
							"description": "The bid price for the server in USD"
						}
					},
					{
						"name": "autoscaling",
						"single_nested": {
							"computed_optional_required": "computed",
							"attributes": [
								{
									"name": "max_nodes",
									"int64": {
										"computed_optional_required": "computed",
										"description": "The maximum number of nodes in the node pool."
									}
								},
								{
									"name": "min_nodes",
									"int64": {
										"computed_optional_required": "computed",
										"description": "The minimum number of nodes in the node pool."
									}
								}
							]
						}
					},
					{
						"name": "bid_status",
						"string": {
							"computed_optional_required": "computed",
							"description": "Status of the bid associated with this spotnodepool."
						}
					},
					{
						"name": "won_count",
						"int64": {
							"computed_optional_required": "computed",
							"description": "Number of won bids."
						}
					}
				]
			}
		},
		{
			"name": "kubeconfig",
			"schema": {
				"attributes": [
					{
						"name": "id",
						"string": {
							"computed_optional_required": "required",
							"description": "ID of the cloudspace, same as cloudspace name."
						}
					},
					{
						"name": "raw",
						"string": {
							"computed_optional_required": "computed",
							"description": "Kubeconfig blob"
						}
					},
					{
						"name": "kubeconfigs",
						"list_nested": {
							"computed_optional_required": "computed",
							"nested_object": {
								"attributes": [
									{
										"name": "name",
										"string": {
											"computed_optional_required": "computed",
											"description": "Name of the kubeconfig context"
										}
									},
									{
										"name": "cluster",
										"string": {
											"computed_optional_required": "computed",
											"description": "Name of the cluster"
										}
									},
									{
										"name": "username",
										"string": {
											"computed_optional_required": "computed",
											"description": "Name of the user"
										}
									},
									{
										"name": "host",
										"string": {
											"computed_optional_required": "computed",
											"description": "Kube api server api endpoint"
										}
									},
									{
										"name": "insecure",
										"bool": {
											"computed_optional_required": "computed",
											"description": "Insecure flag"
										}
									},
									{
										"name": "token",
										"string": {
											"computed_optional_required": "computed",
											"description": "Token of your service account",
											"sensitive": true
										}
									},
									{
										"name": "exec",
										"single_nested": {
											"computed_optional_required": "computed",
											"attributes": [
												{
													"name": "api_version",
													"string": {
														"computed_optional_required": "computed",
														"description": "API version"
													}
												},
												{
													"name": "command",
													"string": {
														"computed_optional_required": "computed",
														"description": "Command to execute"
													}
												},
												{
													"name": "args",
													"list": {
														"computed_optional_required": "computed",
														"element_type": {
															"string": {}
														}
													}
												},
												{
													"name": "env",
													"map": {
														"computed_optional_required": "computed",
														"element_type": {
															"string": {}
														}
													}
												}
											]
										}
									}
								]
							}
						}
					}
				]
			}
		}
	],
	"version": "0.1"
}